<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <title>gam4automation DOC - TwinCAT</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.0.0/normalize.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300,700" rel="stylesheet" type="text/css">
  <link href="style/docs.css" rel="stylesheet">
</head>
<body>
  <div class="menu">
    <div class="logo">
      Content
    </div>
    <nav class="menu-nav">
      
        <ul class="nav">
          <span>Preparation</span>
          <ul class="nav">
            
              <li>
                <a href="installation.html">Installation</a>
              </li>
            
              <li>
                <a href="releasenotes.html">Release Notes</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class="nav">
          <span>Basics</span>
          <ul class="nav">
            
              <li>
                <a href="userinterface.html">User Interface</a>
              </li>
            
              <li>
                <a href="runtimeui.html">Runtime UI</a>
              </li>
            
              <li>
                <a href="folderstructure.html">structure</a>
              </li>
            
              <li>
                <a href="importexport.html">Importing and exporting</a>
              </li>
            
              <li>
                <a href="demomodel.html">Demo Model</a>
              </li>
            
              <li>
                <a href="tutorial.html">Tutorial</a>
              </li>
            
              <li>
                <a href="physics.html">Physics</a>
              </li>
            
              <li>
                <a href="import3ddata.html">CAD import</a>
              </li>
            
              <li>
                <a href="cadlink.html">CADLink</a>
              </li>
            
              <li>
                <a href="pixyz.html">Import with PIXZ</a>
              </li>
            
              <li>
                <a href="cadupdater.html">CADUpdater</a>
              </li>
            
              <li>
                <a href="LargeAssemblies.html">Large Assemblies</a>
              </li>
            
              <li>
                <a href="SelectionWindow.html">Selection Window</a>
              </li>
            
              <li>
                <a href="CADChecker.html">CAD Checker</a>
              </li>
            
              <li>
                <a href="parts4cad.html">parts4cad</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class="nav">
          <span>Components</span>
          <ul class="nav">
            
              <li>
                <a href="game4automation.html">Game4Automation</a>
              </li>
            
              <li>
                <a href="source.html">Source</a>
              </li>
            
              <li>
                <a href="sink.html">Sink</a>
              </li>
            
              <li>
                <a href="mu.html">MU</a>
              </li>
            
              <li>
                <a href="partchanger.html">PartChanger</a>
              </li>
            
              <li>
                <a href="motionaxis.html">Motions</a>
              </li>
            
              <li>
                <a href="group.html">Group</a>
              </li>
            
              <li>
                <a href="kinematic.html">Kinematics</a>
              </li>
            
              <li>
                <a href="drive.html">Drive</a>
              </li>
            
              <li>
                <a href="CAM.html">CAM</a>
              </li>
            
              <li>
                <a href="transportsurface.html">Transport Surface</a>
              </li>
            
              <li>
                <a href="drivebehaviour.html">Drive Behavior</a>
              </li>
            
              <li>
                <a href="chain.html">Chain</a>
              </li>
            
              <li>
                <a href="chainelement.html">Chain element</a>
              </li>
            
              <li>
                <a href="sensor.html">Sensor</a>
              </li>
            
              <li>
                <a href="sensor.html">Sensor</a>
              </li>
            
              <li>
                <a href="grip.html">Grip</a>
              </li>
            
              <li>
                <a href="lamp.html">Lamp</a>
              </li>
            
              <li>
                <a href="uicomponents.html">UI components</a>
              </li>
            
              <li>
                <a href="plc.html">PLC</a>
              </li>
            
              <li>
                <a href="interface.html">Automation Interfaces</a>
              </li>
            
              <li>
                <a href="s7tcpip.html">S7-TCPIP</a>
              </li>
            
              <li>
                <a href="">TwinCAT</a>
              </li>
            
              <li>
                <a href="sharedmemory.html">Shared Memory</a>
              </li>
            
              <li>
                <a href="plcsimadvanced.html">PLCSIM Advanced</a>
              </li>
            
              <li>
                <a href="opcua.html">OPC UA</a>
              </li>
            
              <li>
                <a href="robodk.html">RoboDK</a>
              </li>
            
              <li>
                <a href="modbus.html">Modbus</a>
              </li>
            
              <li>
                <a href="custominterfaces.html">Custom interfaces</a>
              </li>
            
              <li>
                <a href="playmaker.html">Visual Scripting</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class="nav">
          <span>Advanced</span>
          <ul class="nav">
            
              <li>
                <a href="combilerdefines.html">Compiler Defines</a>
              </li>
            
              <li>
                <a href="assemblydefinitions.html">Assembly Defintions</a>
              </li>
            
              <li>
                <a href="yourown.html">Starting your own Project</a>
              </li>
            
          </ul>
        </ul>
      
    </nav>
    <a class="footer" href="https://game4automation.com">
      Game4Automation
    </a>
  </div>
  <div class="page">
   
    <div class="page-content">
	<p>This is the offline version of the documentation. We recommend you to use the <a href="https://game4automation.com/documentation/current/index.html">online documentation.</a></p>
 <h1 id="TwinCAT-Interface"><a href="#TwinCAT-Interface" class="headerlink" title="TwinCAT Interface"></a>TwinCAT Interface</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><blockquote>
<p>The TwinCAT Interface is only available in Game4Automation Professional</p>
</blockquote>
<p><a href="https://www.beckhoff.de/twincat/" target="_blank" rel="noopener">TwinCAT</a> is the programming framework for Beckhoff PLCs.<br>The Game4Automation TwinCAT interfaces uses <a href"https:="" infosys.beckhoff.com="" index.php?content="../content/1031/tcadscommon/html/tcadscommon_introads.htm&id=1593850731570799832ADS" "=""> ADS </a> as communication framework to Beckhoff PLCs. The Bechoff PLCs can be virtual ones like the one delivered with the TwinCAT programming environment (which can be downloaded for free here <a href="https://www.beckhoff.de/twincat3/" target="_blank" rel="noopener">https://www.beckhoff.de/twincat3/</a>) or it could be a real PLC connected over the network with your PC. </p>
<p>The TwinCAT programming environment is enabling, just for development purposes, for free 7 day trial licenses for the TwinCAT PLC runtime. The virtual PLC can also act as a OPCUA server and it can be also used with the OPCUA interface. But we recommend to use directly the TwinCAT Interface if you just want to communicate with Bechoff PLCs because this interface is faster and creates less overhead than the OPCUA interface. </p>
<p>This Youtube video gives an overview:<br><div class="video-container"><iframe src="//www.youtube.com/embed/I22Xs8q8KfE" frameborder="0" allowfullscreen></iframe></div></p>
<h2 id="Interface-configuration"><a href="#Interface-configuration" class="headerlink" title="Interface configuration"></a>Interface configuration</h2><p>The TwinCAT interface is added to the Scene by selecting  <em>Tools &gt; game4automation &gt; Add Component &gt; Interface &gt; TwinCAT</em> or by adding the script <em>TwinCATADSinterface</em> to an empty GameObject.<br><img src="images\twincat-addinterface.png"></p>
<p>You will get an inspector window like this:<br><img src="images\twincat-inspector.png"></p>
<p>For accessing the virtual or the hardware Beckhoff PLC you need to configure the NetID-Adress under <em>Net Id</em> and the <em>Port</em> number. The standard settings of the interface are for a local installed TwinCAT3 development environment with a local virtual PLC. For TwinCAT2 the Port number must be changed. For more information about the configuration of NetIDs and Ports please refer to the <a href="https://infosys.beckhoff.com/english.php?content=../content/1033/tcadscommon/html/tcadscommon_identadsdevice.htm&id=Beckhoff" target="_blank" rel="noopener">Bechoff documentation</a>.</p>
<h2 id="Importing-signals"><a href="#Importing-signals" class="headerlink" title="Importing signals"></a>Importing signals</h2><p>With <em>Import signals</em> all signals of the current TwinCAT project are imported. </p>
<blockquote>
<p>Please make sure that NetID and PortID are configured and that the TwinCAT configuration is activated. Otherwise an error will appear if you try to import the signals. The icon of TwinCAT in the Windows Taskbar should now be green.<br><img src="images\twincat-activateconfiguration.png"></p>
</blockquote>
<p>After importing the signals you get all signals as Gameobjects in your scene:<br><img src="images\twincat-importedsignals.png"></p>
<h2 id="Interface-options"><a href="#Interface-options" class="headerlink" title="Interface options"></a>Interface options</h2><h3 id="Input-or-output-variables"><a href="#Input-or-output-variables" class="headerlink" title="Input or output variables"></a>Input or output variables</h3><p>If the imported signals are defined in the TwinCAT project as an Input or Output, the corresponding Game4Automation signal type will be attached to the Signal.<br>For global TwinCAT variables, which are not assigned an input or output area, this is not possible, because it is not defined if the signal should be a PLC output or input. If it is not defined, the standard setting will import everything as input. You can change it manually by for example replacing the <em>PLCOutputBool</em> script against a <em>PLCInputBool</em> script. </p>
<p>Another way for doing this is to define one or multiple RegEx expressions which are defining the PLC inputs. This could be single signal names or parts of names. In this example all signal where the name includes the string “Input” are going to be defined as PLC inputs:<br><img src="images\twincat-regexinput.png"></p>
<p>More information about RegEx expressions can be found here:<br><a href="https://medium.com/factory-mind/regex-tutorial-a-simple-cheatsheet-by-examples-649dc1c3f285" target="_blank" rel="noopener">https://medium.com/factory-mind/regex-tutorial-a-simple-cheatsheet-by-examples-649dc1c3f285</a></p>
<h3 id="Limiting-the-number-of-imported-signals"><a href="#Limiting-the-number-of-imported-signals" class="headerlink" title="Limiting the number of imported signals"></a>Limiting the number of imported signals</h3><p>For limiting the number of imported signals another RegEx can be used. In <em>RegEx Import Signals</em> one ore multiple RegEx as part of the signal names can be defined. If the list is empty everything is imported. If the list has one or multiple RegEx are defined only signals which are matching one of the RegEx are imported. For example be defining this RegEx<br><img src="images\twincat-regexio.png"><br>only signals which are named IO…. are imported like <em>IO.TestInputBool,IO.TestOutputBool</em> and so on.</p>
<h3 id="Subscriptions-and-update-cycles"><a href="#Subscriptions-and-update-cycles" class="headerlink" title="Subscriptions and update cycles"></a>Subscriptions and update cycles</h3><p>PLCInputs (what means outputs of Unity) are transfered to TwinCAT as soon as they are changed. The cycle time is the Unity screen update cycle tim . PLCOutputs (what means inputs to Unity) are transfered on the defined <em>Min Update Cycle Ms</em> time. This time in milliseconds defines how long TwinCATADS is collecting changed signals into one message before transferring all changed signals in one single message.</p>
<p>Because all signals transfered between TwinCAT and Unity are transfered event based no continuously polling and no multi threading implementation is needed for the TwinCAT interface.</p>
<h3 id="Sub-folders-when-importing-signals"><a href="#Sub-folders-when-importing-signals" class="headerlink" title="Sub-folders when importing signals"></a>Sub-folders when importing signals</h3><p>TwinCAT is organizing variable in an object oriented approach. The signal symbol names are usually <em>[object].[name]</em>. You<br>If the option <em>Create sub folders</em> is selected for each <em>[object]</em> one additional hierarchy in the Signal hierarchy is created.</p>

	  <br>

	  <p><font size="1">&copy; 2019 in2Sight GmbH <a href="https://game4automation.com"> https://game4automation.com </a> - All rights reserved. No part of this publication may be reproduced, distributed, or transmitted in any form or by any means, including printing, saving, photocopying, recording, or other electronic or mechanical methods, without the prior written permission of the publisher.</font></p>
    </div>
	
  </div>
  <div class="switch-page">
    
    
  </div>
</body>
</html>