<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <title>gam4automation DOC - S7 TCP-IP</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.0.0/normalize.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,300,700" rel="stylesheet" type="text/css">
  <link href="style/docs.css" rel="stylesheet">
</head>
<body>
  <div class="menu">
    <div class="logo">
      Content
    </div>
    <nav class="menu-nav">
      
        <ul class="nav">
          <span>Preparation</span>
          <ul class="nav">
            
              <li>
                <a href="installation.html">Installation</a>
              </li>
            
              <li>
                <a href="releasenotes.html">Release Notes</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class="nav">
          <span>Basics</span>
          <ul class="nav">
            
              <li>
                <a href="userinterface.html">User Interface</a>
              </li>
            
              <li>
                <a href="runtimeui.html">Runtime UI</a>
              </li>
            
              <li>
                <a href="folderstructure.html">structure</a>
              </li>
            
              <li>
                <a href="importexport.html">Importing and exporting</a>
              </li>
            
              <li>
                <a href="demomodel.html">Demo Model</a>
              </li>
            
              <li>
                <a href="tutorial.html">Tutorial</a>
              </li>
            
              <li>
                <a href="physics.html">Physics</a>
              </li>
            
              <li>
                <a href="import3ddata.html">CAD import</a>
              </li>
            
              <li>
                <a href="cadlink.html">CADLink</a>
              </li>
            
              <li>
                <a href="pixyz.html">Import with PIXZ</a>
              </li>
            
              <li>
                <a href="cadupdater.html">CADUpdater</a>
              </li>
            
              <li>
                <a href="LargeAssemblies.html">Large Assemblies</a>
              </li>
            
              <li>
                <a href="SelectionWindow.html">Selection Window</a>
              </li>
            
              <li>
                <a href="CADChecker.html">CAD Checker</a>
              </li>
            
              <li>
                <a href="parts4cad.html">parts4cad</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class="nav">
          <span>Components</span>
          <ul class="nav">
            
              <li>
                <a href="game4automation.html">Game4Automation</a>
              </li>
            
              <li>
                <a href="source.html">Source</a>
              </li>
            
              <li>
                <a href="sink.html">Sink</a>
              </li>
            
              <li>
                <a href="mu.html">MU</a>
              </li>
            
              <li>
                <a href="partchanger.html">PartChanger</a>
              </li>
            
              <li>
                <a href="motionaxis.html">Motions</a>
              </li>
            
              <li>
                <a href="group.html">Group</a>
              </li>
            
              <li>
                <a href="kinematic.html">Kinematics</a>
              </li>
            
              <li>
                <a href="drive.html">Drive</a>
              </li>
            
              <li>
                <a href="CAM.html">CAM</a>
              </li>
            
              <li>
                <a href="transportsurface.html">Transport Surface</a>
              </li>
            
              <li>
                <a href="drivebehaviour.html">Drive Behavior</a>
              </li>
            
              <li>
                <a href="chain.html">Chain</a>
              </li>
            
              <li>
                <a href="chainelement.html">Chain element</a>
              </li>
            
              <li>
                <a href="sensor.html">Sensor</a>
              </li>
            
              <li>
                <a href="sensor.html">Sensor</a>
              </li>
            
              <li>
                <a href="grip.html">Grip</a>
              </li>
            
              <li>
                <a href="lamp.html">Lamp</a>
              </li>
            
              <li>
                <a href="uicomponents.html">UI components</a>
              </li>
            
              <li>
                <a href="plc.html">PLC</a>
              </li>
            
              <li>
                <a href="interface.html">Automation Interfaces</a>
              </li>
            
              <li>
                <a href="">S7-TCPIP</a>
              </li>
            
              <li>
                <a href="twincat.html">TwinCAT</a>
              </li>
            
              <li>
                <a href="sharedmemory.html">Shared Memory</a>
              </li>
            
              <li>
                <a href="plcsimadvanced.html">PLCSIM Advanced</a>
              </li>
            
              <li>
                <a href="opcua.html">OPC UA</a>
              </li>
            
              <li>
                <a href="robodk.html">RoboDK</a>
              </li>
            
              <li>
                <a href="modbus.html">Modbus</a>
              </li>
            
              <li>
                <a href="custominterfaces.html">Custom interfaces</a>
              </li>
            
              <li>
                <a href="playmaker.html">Visual Scripting</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class="nav">
          <span>Advanced</span>
          <ul class="nav">
            
              <li>
                <a href="combilerdefines.html">Compiler Defines</a>
              </li>
            
              <li>
                <a href="assemblydefinitions.html">Assembly Defintions</a>
              </li>
            
              <li>
                <a href="yourown.html">Starting your own Project</a>
              </li>
            
          </ul>
        </ul>
      
    </nav>
    <a class="footer" href="https://game4automation.com">
      Game4Automation
    </a>
  </div>
  <div class="page">
   
    <div class="page-content">
	<p>This is the offline version of the documentation. We recommend you to use the <a href="https://game4automation.com/documentation/current/index.html">online documentation.</a></p>
 <h1 id="S7-TCP-IP"><a href="#S7-TCP-IP" class="headerlink" title="S7 TCP-IP"></a>S7 TCP-IP</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>The S7 TCP-IP interface is providing a direct connection to Siemens Hardware Controllers including the S7-300,400,1200,1500 as well as Simotion and Sinumerik controllers.</p>
<p>The S7 Interface is running in a separate thread to achieve maximum performance.</p>
<p>The S7 TCP-IP interface is based on Snap7 from Davide Nardella, for more information see <a href="http://snap7.sourceforge.net/" target="_blank" rel="noopener">http://snap7.sourceforge.net/</a>. Thanks to Davide for providing us Snap7 under special license conditions.</p>
<p>Here is a short Youtube Tutorial showing you the interface in action:</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/X3kQcYQnulM" frameborder="0" allowfullscreen></iframe></div>
<h2 id="Configuring-the-PLC"><a href="#Configuring-the-PLC" class="headerlink" title="Configuring the PLC"></a>Configuring the PLC</h2><p>For allowing the access of the PLC, you will need to set the TIA portal property, under the CPU project, in the left pane under <em>Properties</em> the item <em>Protection</em> to <em>Full access</em>. You also need to <em>check permit access with PUT/GET …</em><br><br><br><img src="images\s7tcpip-plcconfig.png"></p>
<h2 id="Interface-configuration"><a href="#Interface-configuration" class="headerlink" title="Interface configuration"></a>Interface configuration</h2><p>The S7 interface is added to the Scene by selecting  <em>Tools &gt; game4automation &gt; Add Component &gt; Interface &gt; S7</em> or by adding the script <em>S7interface</em> to an empty GameObject.</p>
<p>You will get an inspector window like this:</p>
<img src="images\s7tcpip-inspector.png">
<p>For the PLC you need to configure the IP-Adress under <em>Adress</em> and the <em>Rack</em> and <em>Slot</em> number.<br>For importing symbols, a path to a symbol table (.sdf-format) needs to be added.</p>
<p>By pushing the <em>Check Connection</em> button you can check if the PLC is reachable. If everything is OK you will get an <em>OK</em> in the <em>Connection Status</em> as well as a <em>Running</em> in the <em>PLC Status</em></p>
<h2 id="Importing-Signals"><a href="#Importing-Signals" class="headerlink" title="Importing Signals"></a>Importing Signals</h2><p>With <em>Import symbol table</em> all symbols that are in the table are imported and GameObjects with the any Game4Automation signal objects (PLCInput…, PLCOutput…) are created.</p>
<img src="images\s7tcpip-signal.png">
<p>The name of the GameObject will be the Symbol name. The name of the Signal Script (PLCInput.. and PLCOutput..) will be the absolute plc address. This address is the basic id for the interface signal. </p>
<p>It is also possible to manually add signals and to configure the address (in the <em>Name</em> property of the Signal script) yourself.</p>
<p>After the interface configuration is done and after you have checked if the PLC is reachable, you can start the simulation. You will see, that all signals are updated automatically.</p>
<h2 id="Adding-Signals-manually"><a href="#Adding-Signals-manually" class="headerlink" title="Adding Signals manually"></a>Adding Signals manually</h2><p>It is possible to add signals manually. In this case you must make sure that the Signal adress is proided in the Signal as name and that the Data type (see table below) of the signal is provided as property in Origin Data Type:</p>
<img src="images\s7tcpip-manualsignal.png">
<p><br><br>These data types are supported:</p>
<table>
<thead>
<tr>
<th>Datatype</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BOOL</td>
<td>Boolean, one Bit</td>
</tr>
<tr>
<td>BYTE</td>
<td>Byte, 8 Bit</td>
</tr>
<tr>
<td>WORD</td>
<td>Word, 16 Bit</td>
</tr>
<tr>
<td>DWORD</td>
<td>Double Word with 32 Bit</td>
</tr>
<tr>
<td>SINT</td>
<td>Signed Int with 8 Bit</td>
</tr>
<tr>
<td>INT</td>
<td>Signed Int with 16 Bit</td>
</tr>
<tr>
<td>DINT</td>
<td>Signed Int with 32 Bit</td>
</tr>
<tr>
<td>USINT</td>
<td>Unsigned Int with 8 Bit</td>
</tr>
<tr>
<td>UINT</td>
<td>Unsigned Int with 16 Bit</td>
</tr>
<tr>
<td>UDINT</td>
<td>Unsigned Int with 32 Bit</td>
</tr>
<tr>
<td>REAL</td>
<td>Real with 32 Bit</td>
</tr>
</tbody>
</table>
Please check the <a href="https://game4automation.com/documentation/current/apidoc/html/classgame4automation_1_1_s7interface.html" target="_blank" rel="noopener"> Game4Automation Class Reference</a> for more information about the properties and methods of this component.
<h2 id="Reading-and-Writing-DBs"><a href="#Reading-and-Writing-DBs" class="headerlink" title="Reading and Writing DBs"></a>Reading and Writing DBs</h2><p>It is also possible to read and write Data Blocks (DBs) on a PLC. DB variables are not part of the signal table and you need to configure the access to the DB values manually based on their physical address in the PLC. </p>
<p>To be able to access the DB values <em>Optimized Block Access</em> needs to be turned off in the DB properties:<br><img src="images\s7tcp-dbaccess.png"></p>
<p>Here is an example how to access a Byte inside the DB. The Name of the PLCOutput or Input needs to be the absolute adress of the DB value:<br><img src="images\s7tcp-dbbyte.png"></p>
<p>This is an example how to access a Real inside the DB:<br><img src="images\s7tcp-dbreal.png"></p>

	  <br>

	  <p><font size="1">&copy; 2019 in2Sight GmbH <a href="https://game4automation.com"> https://game4automation.com </a> - All rights reserved. No part of this publication may be reproduced, distributed, or transmitted in any form or by any means, including printing, saving, photocopying, recording, or other electronic or mechanical methods, without the prior written permission of the publisher.</font></p>
    </div>
	
  </div>
  <div class="switch-page">
    
    
  </div>
</body>
</html>